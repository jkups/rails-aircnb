<p id="notice"><%= notice %></p>

<h2>Reservations</h2><br/>
<%= link_to 'Create new reservation', new_reservation_path, class: "btn btn-primary" %> <br/><br/>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Booking code</th>
      <th>Property</th>
      <th>Customer (review) </th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @reservations.each do |reservation| %>
      <tr>
        <td><%= reservation.booking_code %></td>
        <td><p class="btn btn-link" style="padding: 5px; margin: 2px;"><%= link_to reservation.property.title, reservation.property %></p><br><p style="padding: 5px; margin: 2px;">(ID: <%= reservation.property.id %>)</p>

        </td>
        <td>
          <ul class="list-group" style="list-style: none">
          Booking code: <% reservation.reviews.each do |review| %>
            <li class="list-group-item" >
              <p class="btn btn-link" style="padding: 5px; margin: 2px;"><%= link_to review.comment, review %></p><br/>
              <em> - <%= link_to review.user.name, review.user %></em>
            </li>
          <% end %>
          </ul>
        </td>
        <td><%= link_to 'Show details', reservation, class: "btn btn-outline-secondary" %></td>
        <td><%= link_to 'Edit', edit_reservation_path(reservation), class: "btn btn-outline-secondary" %></td>
        <td><%= link_to 'Delete reservation', reservation, method: :delete, data: { confirm: 'Are you Please confirm you want to delete it' }, class: "btn btn-outline-danger" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
